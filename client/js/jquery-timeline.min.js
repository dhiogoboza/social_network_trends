Date.prototype.formatString=function(){if(arguments.length<1)return"";arguments[0];return(this.getUTCDate()<10?"0":"")+this.getUTCDate()+"-"+(this.getUTCMonth()+1)+"-"+this.getUTCFullYear()},Date.prototype.toDateInputValue=function(){var t=new Date(this);return t.setMinutes(this.getMinutes()-this.getTimezoneOffset()),t.toJSON().slice(0,10)},Date.prototype.convertToUTC=function(){return new Date(this.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds())},Array.prototype.contains=function(){if(arguments.length<2)return console.log("Array.prototype.contains requires two arguments"),!1;for(var t=0,e=this.length;t<e;t++)if(arguments[1](this[t],arguments[0]))return!0;return!1},function(t){t.fn.timeline=function(e){function a(t,e){return t.getUTCDate()==e.getUTCDate()&&t.getUTCMonth()==e.getUTCMonth()&&t.getUTCFullYear()==e.getUTCFullYear()}var s=t.extend({start_date:void 0,end_date:void 0,dates:null,main_class:"hr-timeline",items_container_class:"items-container",items_class:"item",circle_class:"circle",format:"D-m-YYYY",circle_selected_class:"selected"},e);return this.each(function(){function n(e,a,n){var i=a?a.formatString(s.format):"",l=t("<div/>").addClass(s.items_class);if(a){var c=t("<span/>").attr("title",i).addClass(s.circle_class).attr("id","item-"+i).data("index",n).on("click",function(){!function(e){t("#item-"+o[d]).removeClass(s.circle_selected_class),d=e.data("index"),r()}(t(this))});l.append(c),o.push(i)}else l.append(t("<div/>").html("a").css("visibility","hidden"));e.append(l)}function i(t,a){f=!1,u=a,t.addClass(s.circle_selected_class),e.onSelection(o[d])}function r(){var e=t("#item-"+o[d]),a=t("."+s.items_container_class+" ."+s.circle_class).width()/2+e.offset().left-l.offset().left;if(f)l.css("width",a),i(e,a);else{var n=Math.abs(u-a);l.animate({width:a},n,function(){i(e,a)})}}var l,c=t(this),o=[],d=0,u=0,f=!0;!function(){c.empty().addClass(s.main_class);var e=0,i=t("<div/>").addClass(s.items_container_class);if(s.start_date&&s.end_date)for(var r=s.start_date,o=s.end_date;r<=o;){n(i,r,e);var d=new Date(r);r=new Date(d.setUTCDate(d.getUTCDate()+1)),e++}else for(r=s.dates[0],o=s.dates[s.dates.length-1];r<=o;){var u=s.dates.contains(r,a)?r:null;n(i,u,e),d=new Date(r),r=new Date(d.setUTCDate(d.getUTCDate()+1)),u&&e++}var f=t("<div/>").addClass("line-bg");l=t("<div/>").addClass("line"),c.append(f),c.append(l),c.append(i)}(),r()})}}(jQuery);